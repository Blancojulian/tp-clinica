<mat-card>
    <mat-card-title>Login</mat-card-title>
    <mat-card-content>
        <form class="form" action="" [formGroup]="form" (ngSubmit)="onSubmit()">

            <mat-form-field class="full-width">
                <mat-label>Email</mat-label>
                <input formControlName="email" matInput #email maxlength="200" placeholder="Ingrese email">
                <mat-hint align="end">{{email.value.length}} / 200</mat-hint>
                @if (this.controls['email'].errors && this.controls['email'].touched) {
                  <!--<mat-error class="text-invalid">Se requiere nombre</mat-error>-->
                  <mat-error>
                      
                      <!--this.controls['nombre'].errors['maxlength']-->
                      @if (this.controls['email'].errors['maxlength']) {
                              El maximo es 200 caracteres
                      } @else if (this.controls['email'].errors['pattern']) {
                          Email invalido, solo se permiten letras
                      } @else {
                          Se requiere email
                      }
                  </mat-error>
                  
              }
              </mat-form-field>

              <mat-form-field class="full-width">
                <mat-label>Contraseña</mat-label>
                <input [type]="hide ? 'password' : 'text'" formControlName="password" matInput #password maxlength="50" placeholder="Ingrese contraseña">
                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-hint align="end">{{password.value.length}} / 50</mat-hint>
                
                @if (this.controls['password'].errors && this.controls['password'].touched) {
                  <mat-error>
                      
                      @if (this.controls['password'].errors['maxlength']) {
                        El maximo es 50 caracteres
                      } @else if (this.controls['password'].errors['pattern'] && this.controls['password'].errors['minlength']) {
                        Contraseña invalido, debe tener al menos 8 caracteres, una letra y un numero
                      } @else if (this.controls['password'].errors['pattern']) {
                        Contraseña invalido, debe terner al menos una letra y un numero
                      } @else if (this.controls['password'].errors['minlength']) {
                        Contraseña invalido, debe tener al menos 8 caracteres
                      }@else {
                        Se requiere contraseña
                      }
                  </mat-error>
                  
              }
              </mat-form-field>
            <div class="centrar">

                <button [disabled]="this.isLoading" type="submit" mat-button class="btn-submit" name="input-submit">Login</button>
            </div>

        </form>
        <div class="botones">
            <button [disabled]="this.isLoading" mat-button (click)="this.completarDatosAdmin()" class="btn-submit">Ingreso Admin</button>
            <button [disabled]="this.isLoading" mat-button (click)="this.completarDatosPaciente()" class="btn-submit">Ingreso Paciente</button>
            <button [disabled]="this.isLoading" mat-button (click)="this.completarDatosEspecialista()" class="btn-submit">Ingreso Especialista</button>
        
        </div>

    <mat-card-content>
        @if (this.isLoading) {
            <mat-spinner></mat-spinner>
        }
<mat-card>
